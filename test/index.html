<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>WWOOF Global Membership Modeling</title>
        <link href="https://cdn.jsdelivr.net/npm/simple-datatables@7.1.2/dist/style.min.css" rel="stylesheet" />
        <link href="css/styles.css" rel="stylesheet" />
        <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
        <script type="text/javascript" src="js/jquery-3.7.1.min.js"></script>
        <script type="text/javascript" src="js/jsonc.min.js"></script>
        <script type="text/javascript" src="js/work.js?_ns=44add41"></script>
    </head>
    <body class="sb-nav-fixed">
        <nav class="sb-topnav navbar navbar-expand navbar-dark bg-dark">
            <!-- Navbar Brand-->
            <a class="navbar-brand ps-3" href="index.html">WWOOF Global Membership Modeling</a>
        </nav>
        <div id="layoutSidenav">
            <div id="layoutSidenav_content">
                <main>
                    <div class="container-fluid px-4">.
                        <div class="row">
                            <div class="col-xl-12">
                                <div class="card mb-4">
                                    <div class="card-header">
                                        Input parameters
                                    </div>
                                    <div class="card-body">
                                        Reference data period - this sets the historical period, which will be used for reference data. The oldest data available now are from 2024-01-01<br />
                                        Date from: <input id="dateFrom" value="2025-01-01"/>
                                        Date to: <input id="dateTo" value="2025-07-01"/><br />
                                        This defines the parameters of global membership<br />
                                        Global Membership Price <input id="globalMembershipPrice" value="78" /><br />
                                        Percentage Of WWOOFers Registering Global Membership Instead Of Local: <input id="percentageOfWWOOFersRegisteringGlobalMembershipInsteadOfLocal" value="15" /> Some of members will choose GM instead of the national ones, this is the percentage of those wwoofers<br />
                                        Percentage Of Added WWOOFers Registering Global Membership <input id="percentageOfAddedWWOOFersRegisteringGlobalMembership" value="5" />We believe the global membership will bring new WWOOFers, so this is the percentage of people coming new to WWOOF<br />
                                        More Visits To Countries Because Of Global Membership Multiplicator <input id="moreVisitsToCountriesBecauseOfGlobalMultiplicator" value="3" />Currently only fraction of WWOOFers have more then one membership (For numbers refere to lower table) and it is smaller then users from Independents who go to more countries (numbers on lower table), this multiplicator defines how much more will be WWOOFers going to more countries with Global Membership<br />
                                        <button id="compute">Compute</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xl-6">
                                <div class="card mb-4">
                                    <div class="card-header">
                                        Global membership data
                                    </div>
                                    <div class="card-body" id="globalMembershipData">
                                        
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl-6">
                                <div class="card mb-4">
                                    <div class="card-header">
                                        Reference data - about the period selected
                                    </div>
                                    <div class="card-body" id="referenceData">

                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xl-12">
                                <div class="card mb-4">
                                    <div class="card-header">
                                        National organizations results
                                    </div>
                                    <div class="card-body">
                                        <table id="datatablesSimpleNationalOrganizationsResults">
                                            <thead>
                                                <tr>
                                                    <th>Country</th>
                                                    <th>WWOOFers</th>
                                                    <th>Zero req%</th>
                                                    <th>Current Income</th>
                                                    <th>GM Total Income</th>
                                                    <th>GM LocalMembers Income</th>
                                                    <th>GM ShareOfGlobal Income</th>
                                                    <th>GM AddedMultipleVisits</th>
                                                    <th>GM AddedMultipleVisits Income</th>
                                                    <th>GM Surplus Distr</th>
                                                </tr>
                                            </thead>
                                            <tfoot>
                                                <tr>
                                                    <th>Country</th>
                                                    <th>WWOOFers</th>
                                                    <th>Zero req%</th>
                                                    <th>Current Income</th>
                                                    <th>GM Total Income</th>
                                                    <th>GM LocalMembers Income</th>
                                                    <th>GM ShareOfGlobal Income</th>
                                                    <th>GM AddedMultipleVisits</th>
                                                    <th>GM AddedMultipleVisits Income</th>
                                                    <th>GM Surplus Distr</th>
                                                </tr>
                                            </tfoot>
                                            <tbody>
                                                
                                            </tbody>
                                        </table>
                                        Column explanation:<br />
                                        WWOOFers - number of wwoofers registering membership for the country for given period<br />
                                        Zero req% - percenatge of wwoofers who did not send any request to host<br />
                                        Current income - current income from wwoofers memberships for the country in given period<br />
                                        GB Total Income - total income for the organization with GM working according the model<br />
                                        GM LocalMembers Income - share of the wwoofers will still choose local memberships and those will pay directly to national organization <i>Math.round(cR.totalIncome*(100-percentageOfWWOOFersRegisteringGlobalMembershipInsteadOfLocal)/100)</i><br />
                                        GM ShareOfGlobal Income - this is part of the Global Membership income, which will be distrubuted based on visit requests for host in given country<i>(cR.totalIncome/cR.totalWWOOFers)*(cR.totalWWOOFers-cR.zeroRequestWWOOFers)*((percentageOfWWOOFersRegisteringGlobalMembershipInsteadOfLocal+percentageOfAddedWWOOFersRegisteringGlobalMembership)/100)</i><br />
                                        GM AddedMultipleVisits - this is the number of wwoofers who will come to the country from GM based on the Multiplikator<i>moreVisitsToCountriesBecauseOfGlobalMultiplicator*countriesCombinationsSummary.filter(el => el.countries.includes(countries[i])).map(el=> el.wwoofers).reduce((partialSum, a) => partialSum + a, 0)</i><br />
                                        GM AddedMultipleVisits Income - the income to national organization from those visits based on the price of the national membership<i>(cR.totalIncome/cR.totalWWOOFers)*cR.globalMembershipsAddedVisitsCount</i>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xl-6">
                                <div class="card mb-4">
                                    <div class="card-header">
                                        Independents data
                                    </div>
                                    <div class="card-body" id="independentsData">
                                        <table id="datatablesSimpleIndependentsData">
                                            <thead>
                                                <tr>
                                                    <th>Number of Countries Request</th>
                                                    <th>Number of WWOOFers</th>
                                                </tr>
                                            </thead>
                                            <tfoot>
                                                <tr>
                                                    <th>Number of Countries Request</th>
                                                    <th>Number of WWOOFers</th>
                                                </tr>
                                            </tfoot>
                                            <tbody>
                                                
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl-6">
                                <div class="card mb-4">
                                    <div class="card-header">
                                        Multiple Countries Memberships
                                    </div>
                                    <div class="card-body" id="multipleCountriesMemberships">
                                        <table id="datatablesSimpleMultipleData">
                                            <thead>
                                                <tr>
                                                    <th>Number of Countries Memberships</th>
                                                    <th>Number of WWOOFers</th>
                                                </tr>
                                            </thead>
                                            <tfoot>
                                                <tr>
                                                    <th>Number of Countries Memberships</th>
                                                    <th>Number of WWOOFers</th>
                                                </tr>
                                            </tfoot>
                                            <tbody>
                                                
                                            </tbody>
                                        </table>        
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </main>
            </div>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/simple-datatables@7.1.2/dist/umd/simple-datatables.min.js" crossorigin="anonymous"></script>
    </body>
</html>
