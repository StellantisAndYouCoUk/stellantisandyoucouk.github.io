<html lang="en">
<head>
    <title>Car images test</title>
    <script>
        const constraints = {
            /*width: { min: 1440, ideal: 1280, max: 3984 },
            height: { min: 1080, ideal: 720, max: 2988 },
            aspectRatio: 4/3,
            frameRate:{max: 30}*/
            };

        var video = document.querySelector('video');
        //let constraints2 = MediaServices.getIdealConstraints(idealCameraDevice, idealResolution);
        navigator.mediaDevices.getUserMedia({'video':true}).then(mediaStream => {
            document.querySelector('video').srcObject = mediaStream;
  
            /*const track = mediaStream.getVideoTracks()[0];
            track.applyConstraints(constraints);*/
  
            if (!OperatingSystem.iOS()) {
                imageCapture = new ImageCapture(track);
            }
        })
        .catch(error =>{
        if (error.toString().includes('Permission denied')){
            alert('This application needs your permission to camera. If you have accidentally Blocked the camera access you need to unblock it in your browser settings.')
        } else {
            alert('Error starting camera. Please report this error to admin.'+ error)
        }
        });
    </script>
</head>
<body>
    <video id="videoElement" autoplay="true" playsinline muted></video>
</body>